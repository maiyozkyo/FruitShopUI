<div class="d-flex w-100 h-100 flex-column p-3">
  <div class="d-flex justify-content-end">
    <div class="btn btn-danger" (click)="migrateDatabase()">Migrate Database</div>
    <div class="btn btn-primary ms-2" (click)="confirmAddTenant()">Lưu</div>
  </div>
  <hr />
  <div class="d-flex justify-content-between">
    <form nz-form [nzLayout]="'inline'" [formGroup]="tenantFG">
      <nz-form-item>
        <nz-form-control nzErrorTip="Vui lòng điền mã tenant!">
          <nz-input-group nzPrefixIcon="user">
            <input formControlName="code" nz-input placeholder="Mã tenant" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control nzErrorTip="Vui lòng điền tên tenant!">
          <nz-input-group nzPrefixIcon="user">
            <input formControlName="name" nz-input placeholder="Tên tenant" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control nzErrorTip="Vui lòng điền tên tenant!">
          <nz-input-group nzPrefixIcon="user">
            <nz-switch [(ngModel)]="curTenant.isTrial" [ngModelOptions]="{ standalone: true }"
              nzCheckedChildren="Đã mua" nzUnCheckedChildren="Dùng thử"></nz-switch>
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
  <hr />
  <div class="d-flex row w-100 h-100 mt-2 bd-highlight">
    <div class="col-3" *ngFor="let service of services">
      <ng-container [ngTemplateOutlet]="tmplService" [ngTemplateOutletContext]="{ service: service }"></ng-container>
    </div>
  </div>
</div>

<ng-template #tmplService let-service="service">
  <div class="d-flex flex-column me-2">
    <nz-card style="width: 300px" [nzTitle]="service.code">
      <nz-switch [(ngModel)]="service.isBought" nzCheckedChildren="Chọn" nzUnCheckedChildren=""></nz-switch>
    </nz-card>
  </div>
</ng-template>